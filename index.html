<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CG mini-paint</title>
    <script src="libs/d3.js"></script>
    <script src="libs/jquery.js"></script>
    <script src="functions/main.js"></script>
    <script src="functions/frameBuffer.js"></script>
    <script src="functions/bresenham.js"></script>
    <script src="functions/MidpointCircle.js"></script>
    <script src="functions/floodfill.js"></script>
    <script src="functions/scanline.js"></script>
</head>
<body>
<style>
    body{
        background-color: darkgrey;
    }
    svg{
        background-color: white;
    }

</style>
    <svg width="500px" height="500px"></svg>
<script>

        let svg = d3.select("svg");
        let tam = 10;
        let color = "black";


       let buffer = new frammeBuffer(80,80);
        bresenham([[0,0],[50,0]]);
        bresenham([[0,50],[49,49]]);
        bresenham([[0,0],[0,49]]);
        bresenham([[49,0],[49,49]]);

        recursivefilll(3,3,"green","black");

        bresenham([[5,25],[45,25]]);
        bresenham([[5,25],[25,5]]);
        bresenham([[25,5],[45,24]]);

        console.log(buffer.matriz);
        console.log(buffer.getPixel(23,17));

        recursivefilll(20,20,"red","black");
        // recursivefilll(10,9,"grey","black");
        MidpointCircle(5,10,10,"red");
        recursivefilll(10,9,"purple","red");

        // let points = [
        //     {x: 10, y: 5},
        //     {x: 12, y: 10 },
        //     {x: 16, y: 5 },
        //     {x: 20, y: 10 },
        //     {x: 30, y: 5}
        //     // {x: 35, y: 35},
        //     // {x: 30, y: 25},
        //     // {x: 5, y: 15},
        //     // {x: 10, y: 5}
        // ];
        //
        // //
        // //generate line
        // var lines = [];
        // for (var i = 1; i < points.length; i++) {
        //     lines.push(new Line(points[i - 1], points[i]));
        //
        // }
        //
        //
        // // find min and max
        // var minY = points[0].y;
        // var maxY = points[0].y;
        // for (var i = 0; i < points.length; i++) {
        //     var temp = points[i].y;
        //     if (temp < minY)
        //         minY = temp;
        //     else if (temp > maxY)
        //         maxY = temp;
        // }
        // // end find
        //
        // for (var y = minY; y < maxY; y++) {
        //     var meetPoint = getMeetPoint(y);
        //     for (var i = 1; i < meetPoint.length; i += 2) {
        //
        //         console.log(meetPoint[i]);
        //         bresenham([[Math.ceil(meetPoint[i - 1]), y] ,[Math.trunc(meetPoint[i]), y]],"green");
        //     }
        // }
        //
        // function getMeetPoint(y) {
        //     var meet = [];
        //     for (var i = 0; i < lines.length; i++) {
        //         var l = lines[i];
        //         if (l.isValidY(y)) {
        //             meet.push(l.getX(y));
        //         }
        //     }
        //
        //     //sort
        //     for (var i = 0; i < meet.length; i++)
        //         for (var j = i; j < meet.length; j++) {
        //             if (meet[i]>meet[j]) {
        //                 var temp =meet[i];
        //                 meet[i]=meet[j];
        //                 meet[j]=temp;
        //             }
        //         }
        //
        //     return  meet;
        //
        // }
        //
        // function Line(start, end) {
        //     this.x0 = start.x;
        //     this.x1 = end.x;
        //     this.y0 = start.y;
        //     this.y1 = end.y;
        //     this.m = (this.y1 - this.y0) / (this.x1 - this.x0);
        //
        //     this.getX = function (y) {
        //         if (!this.isValidY(y))
        //             throw new RangeError();
        //
        //         return 1 / this.m * (y - this.y0) + this.x0;
        //     }
        //
        //     this.isValidY = function (y) {
        //         if (y >= this.y0 && y < this.y1) {
        //             return true;
        //         }
        //         if (y >= this.y1 && y < this.y0) {
        //             return true;
        //         }
        //
        //         return false;
        //     }
        // }
        //
        // bresenham([[10,5],[12,10]]);
        // bresenham([[12,10],[16,5]]);
        // bresenham([[16,5],[20,10]]);
        // bresenham([[20,10],[30,5]]);
        // bresenham([[10,5],[30,5]]);

        // bresenham([[35,35],[30,25]]);
        // bresenham([[30,25],[5,15]]);
        // bresenham([[5,15],[10,5]]);



        // recursivefilll(24,13,"purple","black");

        buffer.redraw(svg);

        buffer.redraw(svg);

</script>

</body>
</html>